import{_,p as m,m as g,o as n,c as a,a as o,t as f,b as u,F as v,r as h,d as p,P as y}from"./index-770a7e37.js";const P={name:"PostPreview",props:{post:{type:Object,default:()=>({})}},computed:{postUrl:function(){return this.post&&this.post.url?this.post.url:""}},methods:{formatContent:function(t){return t&&m.sanitize(g(t))}}},w=["href"],$={class:"postPreview"},B={class:"image"},b=["src"],k={class:"opening"},x=["innerHTML"];function D(t,i,s,e,l,r){return n(),a("a",{href:r.postUrl},[o("div",$,[o("div",B,[o("img",{src:s.post.image},null,8,b)]),o("div",k,[o("h2",null,f(s.post.title),1),o("div",{innerHTML:r.formatContent(s.post.summary)},null,8,x)])])],8,w)}const V=_(P,[["render",D]]);const A={name:"Blog",components:{PostPreview:V},props:{posts:{type:Array,default:()=>[]}}},C={class:"blog"};function H(t,i,s,e,l,r){const c=u("PostPreview");return n(),a("div",C,[(n(!0),a(v,null,h(s.posts,d=>(n(),p(c,{key:d.uid,post:d},null,8,["post"]))),128))])}const L=_(A,[["render",H]]);const T={name:"DevBlogView",components:{Blog:L},data:function(){return{posts:[],loading:!1}},mounted:function(){this.getPosts()},methods:{getPosts:async function(){this.loading=!0;const s=(await y().get("cdn/stories/",{version:"published",cv:Date.now(),per_page:100,starts_with:"devblog/",sort_by:"created_at:desc"})).data.stories.map(e=>({title:e.name,summary:e.content.summary,image:e.content.image?e.content.image.filename:"",created_at:e.created_at,url:"/devblog/"+e.slug}));this.posts=s,this.loading=!1}}},F={className:"blog-container view"},M=o("h1",null,"Dev Blog",-1),N={key:0,class:"loader"};function U(t,i,s,e,l,r){const c=u("Blog");return n(),a("div",F,[M,t.loading?(n(),a("div",N)):(n(),p(c,{key:1,posts:t.posts},null,8,["posts"]))])}const z=_(T,[["render",U]]);export{z as default};
