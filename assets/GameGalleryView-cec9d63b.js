import{_ as g,p as y,m as f,o as s,c as t,a as n,F as u,r as d,e as c,t as m,P as p,b as v,d as G}from"./index-770a7e37.js";const k={name:"GameGallery",props:{games:{type:Array,default:()=>[]}},computed:{top3games:function(){return this.games&&this.games.length?this.games.length<4?this.games:this.games.slice(0,3):[]},otherGames:function(){return this.games&&this.games.length&&this.games.length>3?this.games.slice(3):[]}},methods:{formatContent:function(a){return a&&y.sanitize(f(a))}}},w={class:"gallery"},L=n("h2",null,"Featured",-1),$={class:"games"},x=["href"],T=["src"],C={class:"Summary"},H=["href"],N={class:"singleLineText"},V={key:0,class:"tags"},b=["innerHTML"],B={key:0},M={class:"games"},A=["href"],F=["src"],S={class:"Summary"},D=["href"],O={class:"singleLineText"},P={key:0,class:"tags"},z=["innerHTML"];function E(a,h,_,r,o,i){return s(),t("div",w,[L,n("div",$,[(s(!0),t(u,null,d(i.top3games,e=>(s(),t("div",{key:e.name,class:"game"},[n("a",{href:e.url},[e.images&&e.images.length?(s(),t("img",{key:0,src:e.images[0]},null,8,T)):c("",!0)],8,x),n("div",C,[n("a",{href:e.url},[n("h2",N,m(e.name),1)],8,H),e.tags&&e.tags.length?(s(),t("div",V,[(s(!0),t(u,null,d(e.tags,l=>(s(),t("div",{key:l,class:"singleLineNoOverflow"},"#"+m(l),1))),128))])):c("",!0),n("div",{class:"summary",innerHTML:i.formatContent(e.summary)},null,8,b)])]))),128))]),i.otherGames.length?(s(),t("h2",B,"Game Jams")):c("",!0),n("div",M,[(s(!0),t(u,null,d(i.otherGames,e=>(s(),t("div",{key:e.name,class:"game"},[n("a",{href:e.url},[e.images&&e.images.length?(s(),t("img",{key:0,src:e.images[0]},null,8,F)):c("",!0)],8,A),n("div",S,[n("a",{href:e.url},[n("h2",O,m(e.name),1)],8,D),e.tags&&e.tags.length?(s(),t("div",P,[(s(!0),t(u,null,d(e.tags,l=>(s(),t("div",{key:l,class:"singleLineNoOverflow"},"#"+m(l),1))),128))])):c("",!0),n("div",{class:"summary",innerHTML:i.formatContent(e.summary)},null,8,z)])]))),128))])])}const I=g(k,[["render",E]]);const J={name:"GameGalleryView",components:{GameGallery:I},data:function(){return{games:[],loading:!1}},mounted:function(){this.getGames()},methods:{getGames:async function(){this.loading=!0;const _=(await p().get("cdn/stories/",{version:"published",cv:Date.now(),per_page:100,starts_with:"games/",sort_by:"content.order:asc"})).data.stories.map(r=>({name:r.name,images:r.content.images.map(o=>o.filename),tags:r.content.tags,url:r.content.external_url.url,summary:r.content.summary,order:parseInt(r.content.order)}));_.sort(function(r,o){return r.order<o.order?-1:r.order>o.order?1:0}),this.games=_,this.loading=!1}}},j={className:"gallery-container view"},q=n("h1",null,"Games Gallery",-1),K={key:0,class:"loader"};function Q(a,h,_,r,o,i){const e=v("GameGallery");return s(),t("div",j,[q,a.loading?(s(),t("div",K)):(s(),G(e,{key:1,games:a.games},null,8,["games"]))])}const U=g(J,[["render",Q]]);export{U as default};
